class Solution {
    public static String getSubstring(String str,String ans) {
        String arr[] = ans.split("#");
        return str.substring(Integer.parseInt(arr[0]),Integer.parseInt(arr[1]) + 1);
    }
    public static int getLen(String str) {
        String arr[] = str.split("#");
        return Integer.parseInt(arr[arr.length - 1]);
    }
    public static String getSub(String str,int i,boolean flag) {
        int left = i - 1,right = i + 1,len = 1;
        if(flag) {
            right = i + 2;
        }
        while((left >= 0 && right < str.length()) && str.charAt(left) == str.charAt(right)) {
            left--;
            right++;
            len += 2;
        }
        if(flag && len > 0) {len = len + 1;}
        return Integer.toString(left + 1) + "#" + Integer.toString(right - 1) + "#" + len;
    }
    public String longestPalindrome(String s) {
        int a = 0,r = 0,maxLen = 1;
        String ans = "";
        for(int i = 0;i < s.length();i++) {
            if(i != s.length() - 1 && s.charAt(i) == s.charAt(i + 1)) {
                a = i;r = i + 1;
                String temp = getSub(s,i,true);
                int len = getLen(temp);
                if(len > maxLen) {
                    maxLen = len;
                    ans = temp;
                }
            }
            String temp1 = getSub(s,i,false);
            int len1 = getLen(temp1);
            if(len1 > maxLen) {
                maxLen = len1;
                ans = temp1;
            }
        }
        if(maxLen == 1) {
            return s.substring(a,r + 1);
        }
        return getSubstring(s,ans);
    }
}
