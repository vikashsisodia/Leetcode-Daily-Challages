class Solution {
    public static boolean checkPrime(long num) {
        if(num < 2) return false;
        if(num == 2 || num == 3) return true;
        if(num % 2 == 0 || num % 3 == 0) return false;
        for(long i = 5;i * i <= num;i += 6) {
            if(num % i == 0 || (num % (i + 2) == 0)) {return false;}
        }
        return true;
    }
    public static String getReverse(String str) {
        StringBuilder sb = new StringBuilder(str);
        sb.reverse();
        return sb.toString();
    }
    public boolean completePrime(int num) {
        String s = Integer.toString(num);
        if(s.length() == 1) {return checkPrime(num);}
        boolean prefix = true;
        for(int i = 0;i < s.length();i++) {
            String str = s.substring(0,i + 1);
            int temp = Integer.parseInt(str);
            if(!checkPrime(temp)) {
                prefix = false;
            }
        }
        if(!prefix) {return false;}
        StringBuilder sb = new StringBuilder(s);
        sb.reverse();
        String ss = sb.toString();
        for(int i = 0;i < ss.length();i++) {
            String a = ss.substring(0,i + 1);
            String org = getReverse(a);
            int n = Integer.parseInt(org);
            if(!checkPrime(n)) {
                return false;
            }
        }
        return true;
    }
}
